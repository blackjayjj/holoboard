---
const { superchats } = Astro.props;
const yenFormatter = new Intl.NumberFormat("ja-JP", {
  style: "currency",
  currency: "JPY",
  minimumFractionDigits: 0,
});
---

{
  superchats.map((sc) => (
    <div class="grid grid-cols-[3fr_1fr] items-center p-2 border-b border-border-subtle/50">
      <div class="flex flex-col gap-1 min-w-0">
        <span
          class="text-sm font-semibold text-text-primary truncate"
          title={sc.name}
        >
          {sc.name}
        </span>
        <span class="text-xs text-gray-500">
          {new Date(sc.timestamp).toLocaleTimeString("en-US", {
            hour: "2-digit",
            minute: "2-digit",
            hour12: false,
          })}
        </span>
      </div>

      <div class="text-right">
        <span class={`font-bold`}>{yenFormatter.format(sc.yen_amount)}</span>
      </div>
    </div>
  ))
}
